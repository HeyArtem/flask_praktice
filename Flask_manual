Flask

$ mkdir flask_praktice
$ cd flask_praktice/
$ python3 -m venv venv
$ source venv/bin/activate

$ sudo apt update
$ sudo apt upgrade -y 
$ sudo apt autoremove
$ sudo apt autoclean 

$ pip install -U pip setuptools Flask

$ touch app.py (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –≤—Å–µ–≥–¥–∞ –Ω–∞–∑—ã–∞—Ç—å app.py)
$ code .


        from flask import Flask


        app = Flask(__name__)


        @app.route("/")
        def hello_world():
           return "Hello, World!"


        def main():
            app.run(debug=True)


        if __name__ == "__main__":
            main()


# start
$ python app.py 

–æ—Ç–∫—Ä—ã–≤–∞—é –≤ –±—Ä–∞—É–∑–µ—Ä –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–º –ø–æ—Ä—Ç—É (* Running on http://127.0.0.1:5000). –í –±—Ä–∞—É–∑–µ—Ä–µ –±—É–¥–µ—Ç "Hello, World!"


–î–æ–±–∞–≤–ª—è—é —Å–ª–æ–≤–∞—Ä—å –∏ —Ñ—É–Ω–∫—Ü–∏—é –∫–æ—Ç–æ—Ä–∞—è –µ–≥–æ –≤—ã–≤–æ–¥–∏—Ç:
        from flask import Flask


        app = Flask(__name__)


        # –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä ('—ç—Ç–æ –±–∞–∑–æ–≤—ã–π –∏–ª–∏ –æ—Ç—Ü–æ–≤—Å–∫–∏–π) route –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —á—Ç–æ–±—ã —Å–≤—è–∑–∞—Ç—å URL –∞–¥—Ä–µ—Å (http://127.0.0.1:5000/)  —Å —Ñ—É–Ω–∫—Ü–∏–µ–π
        @app.route("/")
        def hello_world():
            return "Hello, World!"


        about_me = {
           "name": "–ï–≤–≥–µ–Ω–∏–π",
           "surname": "–Æ—Ä—á–µ–Ω–∫–æ",
           "email": "eyurchenko@specialist.ru"
        }


        @app.route("/about")
        def about():
           return about_me


        def main():
            app.run(debug=True) #debug=True - –≤–∫–ª—é—á–µ–Ω —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (–∫–∞–∫ –±—É–¥—Ç–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Ç–∞–∫ –∂–µ –±—É–¥–µ—Ç –æ—Ç—á–µ—Ç –æ–± –æ—à–∏–ø–±–∫–µ –Ω–∞ HTML-–°–¢–†–ê–ù–ò–¶–ï)


        if __name__ == "__main__":
            main()

–ó–∞–ø—É—Å–∫–∞—é
$ python app.py
–∏ —É–≤–∏–∂—É –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ –∏–Ω—Ñ—ã. –ù–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è —Ä—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç! –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
        app = Flask(__name__)
        app.config['JSON_AS_ASCII'] = False

–ó–∞–ø—É—Å–∫–∞—é
$ python app.py
–≤—Å–µ –æ–∫, –≤—ã–≤–æ–¥–∏—Ç—Å—è —Ä—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç

–î–æ–ø–∏—à—É –Ω–æ–≤—ã–π url –∏ —Ñ—É–Ω–∫—Ü–∏—é:
        from flask import Flask


        app = Flask(__name__)
        app.config['JSON_AS_ASCII'] = False


        # –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä ('—ç—Ç–æ –±–∞–∑–æ–≤—ã–π –∏–ª–∏ –æ—Ç—Ü–æ–≤—Å–∫–∏–π) route –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —á—Ç–æ–±—ã —Å–≤—è–∑–∞—Ç—å URL –∞–¥—Ä–µ—Å (http://127.0.0.1:5000/)  —Å —Ñ—É–Ω–∫—Ü–∏–µ–π
        @app.route("/")
        def hello_world():
            return "Hello, World!"


        about_me = {
           "name": "–ê—Ä—Ç–µ–º",
           "surname": "–†–æ–∂–∫–æ–≤",
           "email": "artem_white@mail.ru"
        }


        @app.route("/about")
        def about():
           return about_me


        art_lite_dict = {
            'avto': 'Lexus',
            'side': 'South',
            'color': 'Red',
        }


        # url = /art
        @app.route("/art")
        def art_lite():
           return art_lite_dict


        def main():
            app.run(debug=True) #debug=True - –≤–∫–ª—é—á–µ–Ω —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (–∫–∞–∫ –±—É–¥—Ç–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Ç–∞–∫ –∂–µ –±—É–¥–µ—Ç –æ—Ç—á–µ—Ç –æ–± –æ—à–∏–ø–±–∫–µ –Ω–∞ HTML-–°–¢–†–ê–ù–ò–¶–ï)


        if __name__ == "__main__":
            main()
           
–ó–∞–ø—É—Å–∫–∞—é
$ python app.py, –≤—ã–≤–æ–¥–∏—Ç—Å—è –º–æ–π —Å–ª–æ–≤–∞—Ä—å


–¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é —Å–æ —Å–ø–∏—Å–∫–æ–º —Å–ª–æ–≤–∞—Ä–µ–π. –°–æ–∑–¥–∞—é —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π quotes –∏ —Ñ—É–Ω–∫—Ü–∏—é —Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º:
        from flask import Flask


        app = Flask(__name__)
        app.config['JSON_AS_ASCII'] = False


        quotes = [
           {
               "id": 3,
               "author": "Rick Cook",
               "text": "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ–≥–æ–¥–Ω—è ‚Äî —ç—Ç–æ –≥–æ–Ω–∫–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º, —Å—Ç—Ä–µ–º—è—â–∏—Ö—Å—è –ø–∏—Å–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã —Å –±–æ–ª—å—à–µ–π –∏ –ª—É—á—à–µ–π –∏–¥–∏–æ—Ç–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å—é, –∏ –≤—Å–µ–ª–µ–Ω–Ω–æ–π, –∫–æ—Ç–æ—Ä–∞—è –ø—ã—Ç–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –±–æ–ª—å—à–µ –æ—Ç–±–æ—Ä–Ω—ã—Ö –∏–¥–∏–æ—Ç–æ–≤. –ü–æ–∫–∞ –≤—Å–µ–ª–µ–Ω–Ω–∞—è –ø–æ–±–µ–∂–¥–∞–µ—Ç."
           },
           {
               "id": 5,
               "author": "Waldi Ravens",
               "text": "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –° –ø–æ—Ö–æ–∂–µ –Ω–∞ –±—ã—Å—Ç—Ä—ã–µ —Ç–∞–Ω—Ü—ã –Ω–∞ —Ç–æ–ª—å–∫–æ —á—Ç–æ –æ—Ç–ø–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ–ª—É –ª—é–¥–µ–π —Å –æ—Å—Ç—Ä—ã–º–∏ –±—Ä–∏—Ç–≤–∞–º–∏ –≤ —Ä—É–∫–∞—Ö."
           },
           {
               "id": 6,
               "author": "Mosher‚Äôs Law of Software Engineering",
               "text": "–ù–µ –≤–æ–ª–Ω—É–π—Ç–µ—Å—å, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ï—Å–ª–∏ –±—ã –≤—Å—ë —Ä–∞–±–æ—Ç–∞–ª–æ, –≤–∞—Å –±—ã —É–≤–æ–ª–∏–ª–∏."
           },
           {
               "id": 8,
               "author": "Yoggi Berra",
               "text": "–í —Ç–µ–æ—Ä–∏–∏, —Ç–µ–æ—Ä–∏—è –∏ –ø—Ä–∞–∫—Ç–∏–∫–∞ –Ω–µ—Ä–∞–∑–¥–µ–ª–∏–º—ã. –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —ç—Ç–æ –Ω–µ —Ç–∞–∫."
           },

        ]


        # –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä ('—ç—Ç–æ –±–∞–∑–æ–≤—ã–π –∏–ª–∏ –æ—Ç—Ü–æ–≤—Å–∫–∏–π) route –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —á—Ç–æ–±—ã —Å–≤—è–∑–∞—Ç—å URL –∞–¥—Ä–µ—Å (http://127.0.0.1:5000/)  —Å —Ñ—É–Ω–∫—Ü–∏–µ–π
        @app.route("/")
        def hello_world():
            return "Hello, World!"


        about_me = {
           "name": "–ê—Ä—Ç–µ–º",
           "surname": "–†–æ–∂–∫–æ–≤",
           "email": "artem_white@mail.ru"
        }


        @app.route("/about")
        def about():
           return about_me


        art_lite_dict = {
            'avto': 'Lexus',
            'side': 'South',
            'color': 'Red',
        }


        # url = /art
        @app.route("/art")
        def art_lite():
           return art_lite_dict

        # –≤—ã–≤–æ–¥ —Ü–∏—Ç–∞—Ç
        @app.route("/quotes")
        def get_all_quotes():
           return quotes


        def main():
            app.run(debug=True) #debug=True - –≤–∫–ª—é—á–µ–Ω —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (–∫–∞–∫ –±—É–¥—Ç–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Ç–∞–∫ –∂–µ –±—É–¥–µ—Ç –æ—Ç—á–µ—Ç –æ–± –æ—à–∏–ø–±–∫–µ –Ω–∞ HTML-–°–¢–†–ê–ù–ò–¶–ï)


        if __name__ == "__main__":
            main()

–ó–∞–ø—É—Å–∫–∞—é
$ python app.py
–≤—Å–µ –æ–∫, —Ü–∏—Ç–∞—Ç—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ


–°–û–ó–î–ê–ú –§–£–ù–ö–¶–ò–Æ, –ö–û–¢–û–†–ê–Ø –í–´–í–ï–î–ï–¢ –ö–û–õ–ò–ß–ï–°–¢–í–û –¶–ò–¢–ê–¢ –ò –ß–¢–û –ë–´ –í–û–í–î –ë–´–õ –°–õ–û–í–ê–†–ï–ú:
        # —Å—á–µ—Ç—á–∏–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ü–∏—Ç–∞—Ç. –í–Ω–∏–º–∞–Ω–∏–µ –≤ url –∏–¥–µ—Ç –∫–æ—Ä–Ω–µ–≤–æ–π –∫–∞—Ç–∞–ª–æ–≥(quotes)/–æ–±—ä–µ–∫—Ç —Å –∫–æ—Ç–æ—Ä—ã–º —Ä–∞–±–æ—Ç–∞–µ–º(digital)/digital
        @app.route("/quotes/digital")
        def get_all_quotes_digital():
            return {
                "digital": len(quotes)
            }
–ó–∞–ø—É—Å–∫–∞—é
$ python app.py
–≤—Å–µ –æ–∫, –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
        {
          "digital": 4
        }
        
        
–°–î–ï–õ–ê–Æ –§–£–ù–ö–¶ –ò URL –°–õ–£–ß–ê–ô–ù–´–• –¶–ò–¢–ê–¢:
        from flask import Flask
        import random


        app = Flask(__name__)
        app.config['JSON_AS_ASCII'] = False


        quotes = [
           {
               "id": 3,
               "author": "Rick Cook",
               "text": "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ–≥–æ–¥–Ω—è ‚Äî —ç—Ç–æ –≥–æ–Ω–∫–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º, —Å—Ç—Ä–µ–º—è—â–∏—Ö—Å—è –ø–∏—Å–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã —Å –±–æ–ª—å—à–µ–π –∏ –ª—É—á—à–µ–π –∏–¥–∏–æ—Ç–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å—é, –∏ –≤—Å–µ–ª–µ–Ω–Ω–æ–π, –∫–æ—Ç–æ—Ä–∞—è –ø—ã—Ç–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –±–æ–ª—å—à–µ –æ—Ç–±–æ—Ä–Ω—ã—Ö –∏–¥–∏–æ—Ç–æ–≤. –ü–æ–∫–∞ –≤—Å–µ–ª–µ–Ω–Ω–∞—è –ø–æ–±–µ–∂–¥–∞–µ—Ç."
           },
           {
               "id": 5,
               "author": "Waldi Ravens",
               "text": "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –° –ø–æ—Ö–æ–∂–µ –Ω–∞ –±—ã—Å—Ç—Ä—ã–µ —Ç–∞–Ω—Ü—ã –Ω–∞ —Ç–æ–ª—å–∫–æ —á—Ç–æ –æ—Ç–ø–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ–ª—É –ª—é–¥–µ–π —Å –æ—Å—Ç—Ä—ã–º–∏ –±—Ä–∏—Ç–≤–∞–º–∏ –≤ —Ä—É–∫–∞—Ö."
           },
           {
               "id": 6,
               "author": "Mosher‚Äôs Law of Software Engineering",
               "text": "–ù–µ –≤–æ–ª–Ω—É–π—Ç–µ—Å—å, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ï—Å–ª–∏ –±—ã –≤—Å—ë —Ä–∞–±–æ—Ç–∞–ª–æ, –≤–∞—Å –±—ã —É–≤–æ–ª–∏–ª–∏."
           },
           {
               "id": 8,
               "author": "Yoggi Berra",
               "text": "–í —Ç–µ–æ—Ä–∏–∏, —Ç–µ–æ—Ä–∏—è –∏ –ø—Ä–∞–∫—Ç–∏–∫–∞ –Ω–µ—Ä–∞–∑–¥–µ–ª–∏–º—ã. –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —ç—Ç–æ –Ω–µ —Ç–∞–∫."
           },

        ]


        # –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä ('—ç—Ç–æ –±–∞–∑–æ–≤—ã–π –∏–ª–∏ –æ—Ç—Ü–æ–≤—Å–∫–∏–π) route –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —á—Ç–æ–±—ã —Å–≤—è–∑–∞—Ç—å URL –∞–¥—Ä–µ—Å (http://127.0.0.1:5000/)  —Å —Ñ—É–Ω–∫—Ü–∏–µ–π
        @app.route("/")
        def hello_world():
            return "Hello, World!"


        about_me = {
           "name": "–ê—Ä—Ç–µ–º",
           "surname": "–†–æ–∂–∫–æ–≤",
           "email": "artem_white@mail.ru"
        }


        @app.route("/about")
        def about():
           return about_me


        art_lite_dict = {
            'avto': 'Lexus',
            'side': 'South',
            'color': 'Red',
        }


        # url = /art
        @app.route("/art")
        def art_lite():
           return art_lite_dict

        # –≤—ã–≤–æ–¥ —Ü–∏—Ç–∞—Ç
        @app.route("/quotes")
        def get_all_quotes():
           return quotes


        # —Å—á–µ—Ç—á–∏–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ü–∏—Ç–∞—Ç. –í–Ω–∏–º–∞–Ω–∏–µ –≤ url –∏–¥–µ—Ç –∫–æ—Ä–Ω–µ–≤–æ–π –∫–∞—Ç–∞–ª–æ–≥(quotes)/–æ–±—ä–µ–∫—Ç —Å –∫–æ—Ç–æ—Ä—ã–º —Ä–∞–±–æ—Ç–∞–µ–º(digital)/digital
        @app.route("/quotes/digital")
        def get_all_quotes_digital():
            return {
                "digital": len(quotes)
            }


        # –≤—ã–≤–æ–¥ —Ä–∞–Ω–¥–æ–º–Ω—ã—Ö —Ü–∏—Ç–∞—Ç
        @app.route("/quotes/random")
        def get_all_quotes_random():
            return random.choice(quotes)


        def main():
            app.run(debug=True) #debug=True - –≤–∫–ª—é—á–µ–Ω —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (–∫–∞–∫ –±—É–¥—Ç–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Ç–∞–∫ –∂–µ –±—É–¥–µ—Ç –æ—Ç—á–µ—Ç –æ–± –æ—à–∏–ø–±–∫–µ –Ω–∞ HTML-–°–¢–†–ê–ù–ò–¶–ï)


        if __name__ == "__main__":
            main()
            
–ó–∞–ø—É—Å–∫–∞—é
$ python app.py
–ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –≤—ã–≤–æ–¥–∏—Ç—Å—è —Ä–∞–Ω–¥–æ–º–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞



        -- –†–∞–±–æ—Ç–∞ —Å –ë–î sqlite3 --          
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é DBeaver (—É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –ë–î.) –ê—Ä—Ç–µ–º, —è—Å–Ω–æ –∂–µ, —á—Ç–æ –ø—Ä–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–π venv:
        $ pip install ipython
        $ ipython - –¥–ª—è —á–µ–≥–æ? –æ—Ç–∫—Ä—ã–ª–æ—Å—å –∫–∞–∫–æ–µ —Ç–æ –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
        
create sql_create_table.py

 




   














–í–æ–ø—Ä–æ—Å—ã:
-—á—Ç–æ —Ç–∞–∫–æ–µ –æ–≤–µ–∑—Ü–æ–π–∫?

-—É –º–µ–Ω—è —Ç–∞–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
        @app.route("/quotes/<int:id>", methods=['DELETE'])
        def delete_post(id):    
            for quote in quotes:
                # –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è abort & python –¥–∞–ª—å—à–µ –Ω–µ –¥—É–º–µ—Ç
                abort(404, f"–£–∫–∞–∑–∞–Ω–Ω–æ–≥–æ id= {id}, –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç")
                if id == quote["id"]:
                    quotes.remove(quote)
                    return f"–¶–∏—Ç–∞—Ç–∞ {id} —É–¥–∞–ª–µ–Ω–∞", 200
            
       üò´Ô∏è –∞ —Ç–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:
        @app.route("/quotes/<int:id>", methods=['DELETE'])
        def delete_post(id):    
            for quote in quotes:       
                if id == quote["id"]:
                    quotes.remove(quote)
                    return f"–¶–∏—Ç–∞—Ç–∞ {id} —É–¥–∞–ª–µ–Ω–∞", 200
                 # –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è abort & python –¥–∞–ª—å—à–µ –Ω–µ –¥—É–º–µ—Ç
            abort(404, f"–£–∫–∞–∑–∞–Ω–Ω–æ–≥–æ id= {id}, –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç")
            
-–ø—Ä–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å –î–∞–Ω–∏–ª–æ–π –î–∞–Ω–¥–µ—Ä –º–µ—Ç–æ–¥—ã
    









